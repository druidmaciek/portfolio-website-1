import{S as t,i as e,s,e as a,k as n,j as c,I as r,c as o,d as i,n as l,m as d,b as $,D as m,f as p,o as f,v as u,r as g,w as h,R as x,t as w,a as v,g as y,h as b}from"../../chunks/vendor-f00dec54.js";import{c as j,L as _,H as E}from"../../chunks/Heading-c69dc9df.js";import{N as L}from"../../chunks/Navbar-a6799cc7.js";function T(t){let e,s=t[0].content.title+"";return{c(){e=w(s)},l(t){e=y(t,s)},m(t,s){p(t,e,s)},p(t,a){1&a&&s!==(s=t[0].content.title+"")&&b(e,s)},d(t){t&&i(e)}}}function k(t){let e,s,r,x,j,_,L,k,H,M,I,D,N=t[0].published_at.split("T")[0]+"",U=t[1].render(t[0].content.long_text)+"";return j=new E({props:{$$slots:{default:[T]},$$scope:{ctx:t}}}),{c(){e=a("img"),x=n(),c(j.$$.fragment),_=n(),L=a("p"),k=w("Last Updated: "),H=w(N),M=n(),I=a("div"),this.h()},l(t){e=o(t,"IMG",{class:!0,src:!0,alt:!0}),x=l(t),d(j.$$.fragment,t),_=l(t),L=o(t,"P",{class:!0});var s=v(L);k=y(s,"Last Updated: "),H=y(s,N),s.forEach(i),M=l(t),I=o(t,"DIV",{class:!0}),v(I).forEach(i),this.h()},h(){$(e,"class","h-64 w-full object-cover object-center rounded shadow-lg"),e.src!==(s=t[0].content.image)&&$(e,"src",s),$(e,"alt",r=t[0].content.title),$(L,"class","text-gray-700 text-sm text-center -mt-12 mb-12"),$(I,"class","prose prose-indigo prose-lg text-gray-500 mx-auto")},m(t,s){p(t,e,s),p(t,x,s),f(j,t,s),p(t,_,s),p(t,L,s),m(L,k),m(L,H),p(t,M,s),p(t,I,s),I.innerHTML=U,D=!0},p(t,a){(!D||1&a&&e.src!==(s=t[0].content.image))&&$(e,"src",s),(!D||1&a&&r!==(r=t[0].content.title))&&$(e,"alt",r);const n={};5&a&&(n.$$scope={dirty:a,ctx:t}),j.$set(n),(!D||1&a)&&N!==(N=t[0].published_at.split("T")[0]+"")&&b(H,N),(!D||1&a)&&U!==(U=t[1].render(t[0].content.long_text)+"")&&(I.innerHTML=U)},i(t){D||(u(j.$$.fragment,t),D=!0)},o(t){g(j.$$.fragment,t),D=!1},d(t){t&&i(e),t&&i(x),h(j,t),t&&i(_),t&&i(L),t&&i(M),t&&i(I)}}}function H(t){let e,s,x,w,v,y,b,j;return document.title=e=t[0].content.title,v=new L({}),b=new _({props:{$$slots:{default:[k]},$$scope:{ctx:t}}}),{c(){s=a("meta"),w=n(),c(v.$$.fragment),y=n(),c(b.$$.fragment),this.h()},l(t){const e=r('[data-svelte="svelte-2cx5z2"]',document.head);s=o(e,"META",{name:!0,content:!0}),e.forEach(i),w=l(t),d(v.$$.fragment,t),y=l(t),d(b.$$.fragment,t),this.h()},h(){$(s,"name","description"),$(s,"content",x=t[0].content.meta_description)},m(t,e){m(document.head,s),p(t,w,e),f(v,t,e),p(t,y,e),f(b,t,e),j=!0},p(t,[a]){(!j||1&a)&&e!==(e=t[0].content.title)&&(document.title=e),(!j||1&a&&x!==(x=t[0].content.meta_description))&&$(s,"content",x);const n={};5&a&&(n.$$scope={dirty:a,ctx:t}),b.$set(n)},i(t){j||(u(v.$$.fragment,t),u(b.$$.fragment,t),j=!0)},o(t){g(v.$$.fragment,t),g(b.$$.fragment,t),j=!1},d(t){i(s),t&&i(w),h(v,t),t&&i(y),h(b,t)}}}async function M({page:t,fetch:e,session:s,context:a}){const{slug:n}=t.params,c="cdn/stories/articles/"+n,r=await j.get(c);return r.data.story?(console.log(r.data.story),{props:{article:await r.data.story}}):{status:r.status,error:new Error(`Could not load ${c}`)}}function I(t,e,s){let a=new x,{article:n}=e;return t.$$set=t=>{"article"in t&&s(0,n=t.article)},[n,a]}export default class extends t{constructor(t){super(),e(this,t,I,H,s,{article:0})}}export{M as load};
